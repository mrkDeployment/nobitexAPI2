{"ast":null,"code":"var _jsxFileName = \"/home/mrk2/crypto_js/crypto_fluctuation/crypto_price/src/component/PriceList.js\";\nimport React from 'react';\nimport '../App.css';\nimport axios from 'axios';\nimport { withRouter } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass List extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        'NobitexToken': e.target.value\n      });\n      {\n        e.target.value === '' && this.setState({\n          'NobitexToken': null\n        });\n      }\n    };\n\n    this.handleClickButton = () => {\n      window.localStorage.setItem('NobitexToken', this.state.NobitexToken);\n    };\n\n    this.state = {};\n  }\n\n  componentDidMount() {// this.interval = setInterval(() => {\n    //   this.handleMax()\n    // }, 3000)\n  }\n\n  async handleMax() {\n    let data100 = {\n      symbol: \"USDTIRT\"\n    };\n    var audio = new Audio('https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3');\n    axios.post('https://api.nobitex.ir/v2/trades', data100, {}).then(response => {\n      this.setState({\n        tether: Number.parseFloat(response.data.trades[0].price, 10)\n      });\n    }).catch(error => {\n      console.log('erroppppppp');\n    });\n    let coin_list = [\"btc\", \"eth\", \"ltc\", \"bch\", \"xlm\", \"trx\", \"doge\", \"etc\", \"bnb\", \"eos\", \"xrp\"];\n    let nobitex_coin_list = [\"BTCIRT\", \"ETHIRT\", \"LTCIRT\", \"BCHIRT\", \"XLMIRT\", \"TRXIRT\", \"DOGEIRT\", \"ETCIRT\", \"BNBIRT\", \"EOSIRT\", \"XRPIRT\"];\n    let binance_coin_list = [\"BTCUSDT\", \"ETHUSDT\", \"LTCUSDT\", \"BCHUSDT\", \"XLMUSDT\", \"TRXUSDT\", \"DOGEUSDT\", \"ETCUSDT\", \"BNBUSDT\", \"EOSUSDT\", \"XRPUSDT\"];\n    let exir_coin_list = [\"btc-irt\", \"eth-irt\", \"ltc-irt\", \"bch-irt\", \"xlm-irt\", \"trx-irt\", \"doge-irt\" // \"etc-irt\",\n    // \"bnb-irt\",\n    // \"eos-irt\",\n    // \"xrp-irt\",\n    ];\n\n    for (let i = 1; i < nobitex_coin_list.length + 1; i++) {\n      var j = i - 1;\n      window[\"data\" + j] = {\n        symbol: nobitex_coin_list[i - 1]\n      }; // nobitex API\n\n      await axios.post('https://api.nobitex.ir/v2/trades', window[\"data\" + j], {}).then(response => {\n        var price = Number.parseFloat(response.data.trades[0].price, 10) / this.state.tether; // this.setState({nobitex_volume2: response.data.trades[0].volume})\n\n        this.setState({\n          [`nobitex_price${j}`]: price\n        });\n      }).catch(error => {\n        console.log('erroppppppp');\n      }); //binance API\n\n      await axios.get(\"https://api.binance.com/api/v3/ticker/price?symbol=\" + binance_coin_list[j], {}).then(response => {\n        var price = Number.parseFloat(response.data.price, 10);\n        console.log('aaaaaaaa');\n        this.setState({\n          [`binance_price${j}`]: price\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n\n      if (this.state[`binance_price${j}`] >= this.state[`nobitex_price${j}`]) {\n        this.setState({\n          [`min${j}`]: this.state[`binance_price${j}`]\n        });\n        this.setState({\n          [`name_min${j}`]: binance_coin_list[j]\n        });\n        this.setState({\n          [`max${j}`]: this.state[`nobitex_price${j}`]\n        });\n        this.setState({\n          [`name_max${j}`]: nobitex_coin_list[j]\n        });\n      } else {\n        this.setState({\n          [`max${j}`]: this.state[`binance_price${j}`]\n        });\n        this.setState({\n          [`name_max${j}`]: binance_coin_list[j]\n        });\n        this.setState({\n          [`min${j}`]: this.state[`nobitex_price${j}`]\n        });\n        this.setState({\n          [`name_min${j}`]: nobitex_coin_list[j]\n        });\n      } //exir API\n      // if(j<7){\n      //   await axios.get('https://api.exir.io/v1/trades', {\n      //   })\n      //   .then(response => {\n      //     var price= Number.parseFloat(response.data[exir_coin_list[j]][0].price, 10)/Number.parseFloat(response.data[\"usdt-irt\"][0].price, 10)\n      //     this.setState({ [`exir_price${j}`]: price })\n      //   })\n      //   .catch(error => {\n      //     console.log('error:')\n      //   })\n      //   if(this.state[`binance_price${j}`]>=this.state[`exir_price${j}`]){\n      //     this.setState({ [`minn${j}`]: this.state[`binance_price${j}`] })\n      //     this.setState({ [`name_minn${j}`]: binance_coin_list[j] })\n      //     this.setState({ [`maxx${j}`]: this.state[`exir_price${j}`] })\n      //     this.setState({ [`name_maxx${j}`]: exir_coin_list[j] })\n      //   }else{\n      //     this.setState({ [`maxx${j}`]: this.state[`binance_price${j}`] })\n      //     this.setState({ [`name_maxx${j}`]: binance_coin_list[j] })\n      //     this.setState({ [`minn${j}`]: this.state[`exir_price${j}`] })\n      //     this.setState({ [`name_minn${j}`]: exir_coin_list[j] })\n      //   }\n      //   // if(Math.abs((this.state[`maxx${j}`]-this.state[`minn${j}`])/this.state[`minn${j}`]*100)>4 && this.state[`binance_price${j}`] > this.state[`exir_price${j}`]){\n      //   //   console.log(\"maxxxx\",this.state[`maxx${j}`],this.state[`name_maxx${j}`])\n      //   //   console.log(\"minnnn\",this.state[`minn${j}`],this.state[`name_minn${j}`])\n      //   //   console.log(\"exir\",this.state[`binance_price${j}`])\n      //   //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n      //   //   var now = new Date();\n      //   //   console.log(\"taghir\",(this.state[`maxx${j}`]-this.state[`minn${j}`])/this.state[`minn${j}`]*100,now) \n      //   //   audio.play(); \n      //   // }\n      // }\n\n\n      if (Math.abs((this.state[`max${j}`] - this.state[`min${j}`]) / this.state[`min${j}`] * 100) > 2.4 && this.state[`binance_price${j}`] > this.state[`nobitex_price${j}`]) {\n        console.log(\"nobitex\", this.state.tether * 0.985 * this.state[`binance_price${j}`]);\n        console.log(\"maxxxx\", this.state[`max${j}`], this.state[`name_max${j}`]);\n        console.log(\"minnnn\", this.state[`min${j}`], this.state[`name_min${j}`]); // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n\n        var now = new Date();\n        console.log(\"taghir\", (this.state[`max${j}`] - this.state[`min${j}`]) / this.state[`min${j}`] * 100, now);\n        audio.play();\n        let allowed_price = this.state.tether * 0.985 * this.state[`binance_price${j}`];\n        let amount = 10000000 / allowed_price;\n        let NobitexToken = window.localStorage.getItem('NobitexToken');\n        let buy_data = {\n          type: \"buy\",\n          srcCurrency: coin_list[j],\n          dstCurrency: \"rls\",\n          amount: String(amount),\n          price: String(allowed_price)\n        };\n        let config = {\n          headers: {\n            Authorization: `token ${NobitexToken}`\n          }\n        };\n        await axios.post('https://api.nobitex.ir/market/orders/add', buy_data, config).then(response => {\n          console.log('buy', response);\n        }).catch(error => {\n          console.log('erroppppppp', error);\n        });\n      } // if(Math.abs((this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100)>1.2 && this.state[`binance_price${j}`] < this.state[`nobitex_price${j}`]){\n      //   console.log(\"maxxxx\",this.state[`max${j}`],this.state[`name_max${j}`])\n      //   console.log(\"minnnn\",this.state[`min${j}`],this.state[`name_min${j}`])\n      //   console.log(\"nobitex\",this.state[`binance_price${j}`])\n      //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n      //   var now = new Date();\n      //   console.log(\"taghir\",(this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100,now) \n      //   audio.play(); \n      // }\n      // if(this.state[`nobitex_price${0}`]*(this.state.tether)<91650){\n      //   console.log(this.state[`nobitex_price${0}`]*(this.state.tether))\n      //   console.log(\"maxxxx\",this.state[`max${j}`],this.state[`name_max${j}`])\n      //   console.log(\"minnnn\",this.state[`min${j}`],this.state[`name_min${j}`])\n      //   console.log(\"nobitex\",(this.state.tether)*this.state[`binance_price${j}`])\n      //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n      //   var now = new Date();\n      //   console.log(\"taghir\",(this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100,now) \n      //   audio.play(); \n      // }\n\n    }\n  }\n\n  async Buy() {\n    let NobitexToken = window.localStorage.getItem('NobitexToken');\n    let allowed_price = 300000;\n    let amount = 10000000 / allowed_price;\n    let buy_data = {\n      type: \"buy\",\n      srcCurrency: \"btc\",\n      dstCurrency: \"rls\",\n      amount: String(amount),\n      price: String(allowed_price)\n    };\n    let config = {\n      headers: {\n        Authorization: `token ${NobitexToken}`\n      }\n    };\n    await axios.post('https://api.nobitex.ir/market/orders/add', buy_data, config).then(response => {\n      console.log('buy', response);\n    }).catch(error => {\n      console.log('erroppppppp', error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"NobitexToken\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nobitex Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"NobitexToken\",\n          placeholder: \"Nobitex Token\",\n          onChange: e => this.handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => this.handleClickButton(e),\n          children: \"send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => this.Buy(e),\n          children: \"Buy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(List);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/mrk2/crypto_js/crypto_fluctuation/crypto_price/src/component/PriceList.js"],"names":["React","axios","withRouter","List","Component","constructor","props","handleChange","e","setState","target","value","handleClickButton","window","localStorage","setItem","state","NobitexToken","componentDidMount","handleMax","data100","symbol","audio","Audio","post","then","response","tether","Number","parseFloat","data","trades","price","catch","error","console","log","coin_list","nobitex_coin_list","binance_coin_list","exir_coin_list","i","length","j","get","Math","abs","now","Date","play","allowed_price","amount","getItem","buy_data","type","srcCurrency","dstCurrency","String","config","headers","Authorization","Buy","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport axios from 'axios'\nimport {withRouter} from 'react-router'\n\nclass List extends React.Component {\n  constructor(props){\n    super(props)\n    this.state={\n    }\n  }\n\n  componentDidMount () {\n    // this.interval = setInterval(() => {\n    //   this.handleMax()\n    // }, 3000)\n    }\n\n  async handleMax(){\n\n    let data100 = {\n      symbol: \"USDTIRT\"\n    }\n\n    var audio = new Audio('https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3');\n\n    axios.post('https://api.nobitex.ir/v2/trades', data100,{})\n    .then((response) => {\n      this.setState({ tether: Number.parseFloat(response.data.trades[0].price, 10) })\n    })\n    .catch((error) => {\n      console.log('erroppppppp')\n    })\n\n    let coin_list = [\n      \"btc\",\n      \"eth\",\n      \"ltc\",\n      \"bch\",\n      \"xlm\",\n      \"trx\",\n      \"doge\",\n      \"etc\",\n      \"bnb\",\n      \"eos\",\n      \"xrp\",\n    ]\n\n    let nobitex_coin_list = [\n      \"BTCIRT\",\n      \"ETHIRT\",\n      \"LTCIRT\",\n      \"BCHIRT\",\n      \"XLMIRT\",\n      \"TRXIRT\",\n      \"DOGEIRT\",\n      \"ETCIRT\",\n      \"BNBIRT\",\n      \"EOSIRT\",\n      \"XRPIRT\",\n    ]\n\n    let binance_coin_list = [\n      \"BTCUSDT\",\n      \"ETHUSDT\",\n      \"LTCUSDT\",\n      \"BCHUSDT\",\n      \"XLMUSDT\",\n      \"TRXUSDT\",\n      \"DOGEUSDT\",\n      \"ETCUSDT\",\n      \"BNBUSDT\",\n      \"EOSUSDT\",\n      \"XRPUSDT\",\n    ]\n\n    let exir_coin_list = [\n      \"btc-irt\",\n      \"eth-irt\",\n      \"ltc-irt\",\n      \"bch-irt\",\n      \"xlm-irt\",\n      \"trx-irt\",\n      \"doge-irt\",\n      // \"etc-irt\",\n      // \"bnb-irt\",\n      // \"eos-irt\",\n      // \"xrp-irt\",\n    ]\n\n    \n    for (let i = 1; i < nobitex_coin_list.length+1; i++) {\n\n      var j = i-1;\n      window[\"data\"+j] = {\n        symbol: nobitex_coin_list[i-1]\n      }\n\n\n      // nobitex API\n\n      await axios.post('https://api.nobitex.ir/v2/trades', window[\"data\"+j],{})\n      .then((response) => {\n        var price= Number.parseFloat(response.data.trades[0].price, 10)/this.state.tether\n        // this.setState({nobitex_volume2: response.data.trades[0].volume})\n        this.setState({ [`nobitex_price${j}`]: price })\n      })\n      .catch((error) => {\n        console.log('erroppppppp')\n      })\n      \n      //binance API\n\n      await axios.get(\"https://api.binance.com/api/v3/ticker/price?symbol=\"+binance_coin_list[j], {\n      })\n      .then(response => {\n        var price= Number.parseFloat(response.data.price, 10)\n        console.log('aaaaaaaa')\n        this.setState({ [`binance_price${j}`]: price })\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n      if(this.state[`binance_price${j}`]>=this.state[`nobitex_price${j}`]){\n        this.setState({ [`min${j}`]: this.state[`binance_price${j}`] })\n        this.setState({ [`name_min${j}`]: binance_coin_list[j] })\n        this.setState({ [`max${j}`]: this.state[`nobitex_price${j}`] })\n        this.setState({ [`name_max${j}`]: nobitex_coin_list[j] })\n      }else{\n        this.setState({ [`max${j}`]: this.state[`binance_price${j}`] })\n        this.setState({ [`name_max${j}`]: binance_coin_list[j] })\n        this.setState({ [`min${j}`]: this.state[`nobitex_price${j}`] })\n        this.setState({ [`name_min${j}`]: nobitex_coin_list[j] })\n      }\n\n      //exir API\n      // if(j<7){\n      //   await axios.get('https://api.exir.io/v1/trades', {\n      //   })\n      //   .then(response => {\n      //     var price= Number.parseFloat(response.data[exir_coin_list[j]][0].price, 10)/Number.parseFloat(response.data[\"usdt-irt\"][0].price, 10)\n      //     this.setState({ [`exir_price${j}`]: price })\n      //   })\n      //   .catch(error => {\n      //     console.log('error:')\n      //   })\n\n      //   if(this.state[`binance_price${j}`]>=this.state[`exir_price${j}`]){\n      //     this.setState({ [`minn${j}`]: this.state[`binance_price${j}`] })\n      //     this.setState({ [`name_minn${j}`]: binance_coin_list[j] })\n      //     this.setState({ [`maxx${j}`]: this.state[`exir_price${j}`] })\n      //     this.setState({ [`name_maxx${j}`]: exir_coin_list[j] })\n      //   }else{\n      //     this.setState({ [`maxx${j}`]: this.state[`binance_price${j}`] })\n      //     this.setState({ [`name_maxx${j}`]: binance_coin_list[j] })\n      //     this.setState({ [`minn${j}`]: this.state[`exir_price${j}`] })\n      //     this.setState({ [`name_minn${j}`]: exir_coin_list[j] })\n      //   }\n\n      //   // if(Math.abs((this.state[`maxx${j}`]-this.state[`minn${j}`])/this.state[`minn${j}`]*100)>4 && this.state[`binance_price${j}`] > this.state[`exir_price${j}`]){\n      //   //   console.log(\"maxxxx\",this.state[`maxx${j}`],this.state[`name_maxx${j}`])\n      //   //   console.log(\"minnnn\",this.state[`minn${j}`],this.state[`name_minn${j}`])\n      //   //   console.log(\"exir\",this.state[`binance_price${j}`])\n      //   //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n      //   //   var now = new Date();\n      //   //   console.log(\"taghir\",(this.state[`maxx${j}`]-this.state[`minn${j}`])/this.state[`minn${j}`]*100,now) \n      //   //   audio.play(); \n      //   // }\n        \n      // }\n\n      if(Math.abs((this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100)>2.4 && this.state[`binance_price${j}`] > this.state[`nobitex_price${j}`]){\n        console.log(\"nobitex\",(this.state.tether)*0.985*this.state[`binance_price${j}`])\n        console.log(\"maxxxx\",this.state[`max${j}`],this.state[`name_max${j}`])\n        console.log(\"minnnn\",this.state[`min${j}`],this.state[`name_min${j}`])\n        // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n        var now = new Date();\n        console.log(\"taghir\",(this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100,now) \n        audio.play(); \n\n        let allowed_price = (this.state.tether)*0.985*this.state[`binance_price${j}`]\n        let amount=10000000/allowed_price\n\n        let NobitexToken= window.localStorage.getItem('NobitexToken');\n\n        let buy_data = {\n          type: \"buy\",\n          srcCurrency: coin_list[j],\n          dstCurrency: \"rls\",\n          amount: String(amount),\n          price: String(allowed_price)\n        }\n    \n        let config = {\n          headers: { Authorization: `token ${NobitexToken}` }\n        };\n    \n        await axios.post('https://api.nobitex.ir/market/orders/add', buy_data,config)\n        .then((response) => {\n          console.log('buy',response)\n        })\n        .catch((error) => {\n          console.log('erroppppppp',error)\n        })\n      }\n      \n\n      // if(Math.abs((this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100)>1.2 && this.state[`binance_price${j}`] < this.state[`nobitex_price${j}`]){\n      //   console.log(\"maxxxx\",this.state[`max${j}`],this.state[`name_max${j}`])\n      //   console.log(\"minnnn\",this.state[`min${j}`],this.state[`name_min${j}`])\n      //   console.log(\"nobitex\",this.state[`binance_price${j}`])\n      //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n      //   var now = new Date();\n      //   console.log(\"taghir\",(this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100,now) \n      //   audio.play(); \n      // }\n\n      // if(this.state[`nobitex_price${0}`]*(this.state.tether)<91650){\n      //   console.log(this.state[`nobitex_price${0}`]*(this.state.tether))\n      //   console.log(\"maxxxx\",this.state[`max${j}`],this.state[`name_max${j}`])\n      //   console.log(\"minnnn\",this.state[`min${j}`],this.state[`name_min${j}`])\n      //   console.log(\"nobitex\",(this.state.tether)*this.state[`binance_price${j}`])\n      //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n      //   var now = new Date();\n      //   console.log(\"taghir\",(this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100,now) \n      //   audio.play(); \n      // }\n\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({ 'NobitexToken': e.target.value })\n    { e.target.value === '' && this.setState({ 'NobitexToken': null})}\n  }\n\n  handleClickButton = () => {\n    window.localStorage.setItem('NobitexToken',this.state.NobitexToken)\n  }\n\n  async Buy() {\n\n    let NobitexToken= window.localStorage.getItem('NobitexToken');\n\n    let allowed_price = 300000\n    let amount=10000000/allowed_price\n\n    let buy_data = {\n      type: \"buy\",\n      srcCurrency: \"btc\",\n      dstCurrency: \"rls\",\n      amount: String(amount),\n      price: String(allowed_price)\n    }\n\n    let config = {\n      headers: { Authorization: `token ${NobitexToken}` }\n    };\n\n    await axios.post('https://api.nobitex.ir/market/orders/add', buy_data,config)\n    .then((response) => {\n      console.log('buy',response)\n    })\n    .catch((error) => {\n      console.log('erroppppppp',error)\n    })\n  }\n\n  render(){\n    return (\n      <div className=\"Container\">\n        <div className=\"NobitexToken\">\n          <p>Nobitex Token</p>\n          <input\n            className=\"NobitexToken\"\n            placeholder=\"Nobitex Token\"\n            onChange={(e) => this.handleChange(e)}\n          />\n          <button\n            onClick={(e) => this.handleClickButton(e)}\n          >send</button>\n\n          <button\n            onClick={(e) => this.Buy(e)}\n          >Buy</button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(List);\n"]},"metadata":{},"sourceType":"module"}