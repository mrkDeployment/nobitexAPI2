{"ast":null,"code":"var _jsxFileName = \"/home/mrk2/crypto_js/crypto_fluctuation/crypto_price/src/component/PriceList.js\";\nimport React from 'react';\nimport '../App.css';\nimport axios from 'axios';\nimport { withRouter } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass List extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      this.handleMax();\n    }, 3000);\n  }\n\n  async handleMax() {\n    let data100 = {\n      symbol: \"USDTIRT\"\n    };\n    var audio = new Audio('https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3');\n    axios.post('https://api.nobitex.ir/v2/trades', data100, {}).then(response => {\n      this.setState({\n        tether: Number.parseFloat(response.data.trades[0].price, 10)\n      });\n    }).catch(error => {\n      console.log('erroppppppp');\n    });\n    let nobitex_coin_list = [\"BTCIRT\", \"ETHIRT\", \"LTCIRT\", \"BCHIRT\", \"ETCIRT\", \"BNBIRT\", \"EOSIRT\", \"XLMIRT\", \"XRPIRT\", \"TRXIRT\", \"DOGEIRT\"];\n    let binance_coin_list = [\"BTCUSDT\", \"ETHUSDT\", \"LTCUSDT\", \"BCHUSDT\", \"ETCUSDT\", \"BNBUSDT\", \"EOSUSDT\", \"XLMUSDT\", \"XRPUSDT\", \"TRXUSDT\", \"DOGEUSDT\"];\n\n    for (let i = 1; i < nobitex_coin_list.length + 1; i++) {\n      var j = i - 1;\n      window[\"data\" + j] = {\n        symbol: nobitex_coin_list[i - 1]\n      }; // nobitex API\n\n      await axios.post('https://api.nobitex.ir/v2/trades', window[\"data\" + j], {}).then(response => {\n        var price = Number.parseFloat(response.data.trades[0].price, 10) / this.state.tether; // this.setState({nobitex_volume2: response.data.trades[0].volume})\n\n        this.setState({\n          [`nobitex_price${j}`]: price\n        });\n      }).catch(error => {\n        console.log('erroppppppp');\n      }); //binance API\n\n      await axios.get(\"https://api.binance.com/api/v3/ticker/price?symbol=\" + binance_coin_list[j], {}).then(response => {\n        var price = Number.parseFloat(response.data.price, 10);\n        this.setState({\n          [`binance_price${j}`]: price\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n\n      if (this.state[`binance_price${j}`] >= this.state[`nobitex_price${j}`]) {\n        this.setState({\n          [`min${j}`]: this.state[`binance_price${j}`]\n        });\n        this.setState({\n          [`name_min${j}`]: binance_coin_list[j]\n        });\n        this.setState({\n          [`max${j}`]: this.state[`nobitex_price${j}`]\n        });\n        this.setState({\n          [`name_max${j}`]: nobitex_coin_list[j]\n        });\n      } else {\n        this.setState({\n          [`max${j}`]: this.state[`binance_price${j}`]\n        });\n        this.setState({\n          [`name_max${j}`]: binance_coin_list[j]\n        });\n        this.setState({\n          [`min${j}`]: this.state[`nobitex_price${j}`]\n        });\n        this.setState({\n          [`name_min${j}`]: nobitex_coin_list[j]\n        });\n      } //exir API\n\n\n      await axios.get('https://api.exir.io/v1/trades', {}).then(response => {\n        var price = Number.parseFloat(response.data[\"btc-irt\"][0].price, 10) / Number.parseFloat(response.data[\"usdt-irt\"][0].price, 10);\n        this.setState({\n          exir_price: price\n        });\n        console.log('yytttttttt');\n      }).catch(error => {\n        console.log('error:');\n      });\n\n      if (Math.abs((this.state[`max${j}`] - this.state[`min${j}`]) / this.state[`min${j}`] * 100) > 2.4 && this.state[`binance_price${j}`] > this.state[`nobitex_price${j}`]) {\n        console.log(\"maxxxx\", this.state[`max${j}`], this.state[`name_max${j}`]);\n        console.log(\"minnnn\", this.state[`min${j}`], this.state[`name_min${j}`]);\n        console.log(\"nobitex\", this.state[`binance_price${j}`]); // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n\n        var now = new Date();\n        console.log(\"taghir\", (this.state[`max${j}`] - this.state[`min${j}`]) / this.state[`min${j}`] * 100, now);\n        audio.play();\n      }\n    } // if(this.state.binance_price>=this.nobitex_price){\n    //   this.setState({ min: this.state.binance_price })\n    //   this.setState({ name_min: this.state.binance_name })\n    //   this.setState({ max: this.state.nobitex_price })\n    //   this.setState({ name_max: this.state.nobitex_name })\n    // }else{\n    //   this.setState({ max: this.state.binance_price })\n    //   this.setState({ name_max: this.state.binance_name })\n    //   this.setState({ min: this.state.nobitex_price })\n    //   this.setState({ name_min: this.state.nobitex_name })\n    // }\n    // if(this.state.exir_price>=this.state.max){\n    //   this.setState({ max: this.state.exir_price })\n    //   this.setState({ name_max: this.state.exir_name })\n    // }else if(this.state.exir_price < this.state.min){\n    //   this.setState({ min: this.state.exir_price })\n    //   this.setState({ name_min: this.state.exir_name })\n    // }\n\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"aaaaaaaaaaaaaaa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(List);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/mrk2/crypto_js/crypto_fluctuation/crypto_price/src/component/PriceList.js"],"names":["React","axios","withRouter","List","Component","constructor","props","state","componentDidMount","interval","setInterval","handleMax","data100","symbol","audio","Audio","post","then","response","setState","tether","Number","parseFloat","data","trades","price","catch","error","console","log","nobitex_coin_list","binance_coin_list","i","length","j","window","get","exir_price","Math","abs","now","Date","play","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport axios from 'axios'\nimport {withRouter} from 'react-router'\n\nclass List extends React.Component {\n  constructor(props){\n    super(props)\n    this.state={\n    }\n  }\n\n  componentDidMount () {\n    this.interval = setInterval(() => {\n      this.handleMax()\n    }, 3000)\n    }\n\n  async  handleMax(){\n\n    let data100 = {\n      symbol: \"USDTIRT\"\n    }\n\n    var audio = new Audio('https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3');\n\n    axios.post('https://api.nobitex.ir/v2/trades', data100,{})\n    .then((response) => {\n      this.setState({ tether: Number.parseFloat(response.data.trades[0].price, 10) })\n    })\n    .catch((error) => {\n      console.log('erroppppppp')\n    })\n\n    let nobitex_coin_list = [\n      \"BTCIRT\",\n      \"ETHIRT\",\n      \"LTCIRT\",\n      \"BCHIRT\",\n      \"ETCIRT\",\n      \"BNBIRT\",\n      \"EOSIRT\",\n      \"XLMIRT\",\n      \"XRPIRT\",\n      \"TRXIRT\",\n      \"DOGEIRT\"\n    ]\n\n    let binance_coin_list = [\n      \"BTCUSDT\",\n      \"ETHUSDT\",\n      \"LTCUSDT\",\n      \"BCHUSDT\",\n      \"ETCUSDT\",\n      \"BNBUSDT\",\n      \"EOSUSDT\",\n      \"XLMUSDT\",\n      \"XRPUSDT\",\n      \"TRXUSDT\",\n      \"DOGEUSDT\"\n    ]\n\n    for (let i = 1; i < nobitex_coin_list.length+1; i++) {\n\n      var j = i-1;\n      window[\"data\"+j] = {\n        symbol: nobitex_coin_list[i-1]\n      }\n\n\n      // nobitex API\n\n      await axios.post('https://api.nobitex.ir/v2/trades', window[\"data\"+j],{})\n      .then((response) => {\n        var price= Number.parseFloat(response.data.trades[0].price, 10)/this.state.tether\n        // this.setState({nobitex_volume2: response.data.trades[0].volume})\n        this.setState({ [`nobitex_price${j}`]: price })\n      })\n      .catch((error) => {\n        console.log('erroppppppp')\n      })\n      \n      //binance API\n\n      await axios.get(\"https://api.binance.com/api/v3/ticker/price?symbol=\"+binance_coin_list[j], {\n      })\n      .then(response => {\n        var price= Number.parseFloat(response.data.price, 10)\n        this.setState({ [`binance_price${j}`]: price })\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n      if(this.state[`binance_price${j}`]>=this.state[`nobitex_price${j}`]){\n        this.setState({ [`min${j}`]: this.state[`binance_price${j}`] })\n        this.setState({ [`name_min${j}`]: binance_coin_list[j] })\n        this.setState({ [`max${j}`]: this.state[`nobitex_price${j}`] })\n        this.setState({ [`name_max${j}`]: nobitex_coin_list[j] })\n      }else{\n        this.setState({ [`max${j}`]: this.state[`binance_price${j}`] })\n        this.setState({ [`name_max${j}`]: binance_coin_list[j] })\n        this.setState({ [`min${j}`]: this.state[`nobitex_price${j}`] })\n        this.setState({ [`name_min${j}`]: nobitex_coin_list[j] })\n      }\n\n      //exir API\n\n      await axios.get('https://api.exir.io/v1/trades', {\n      })\n      .then(response => {\n        var price= Number.parseFloat(response.data[\"btc-irt\"][0].price, 10)/Number.parseFloat(response.data[\"usdt-irt\"][0].price, 10)\n        this.setState({ exir_price: price })\n        console.log('yytttttttt')\n      })\n      .catch(error => {\n        console.log('error:')\n      })\n\n      if(Math.abs((this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100)>2.4 && this.state[`binance_price${j}`] > this.state[`nobitex_price${j}`]){\n        console.log(\"maxxxx\",this.state[`max${j}`],this.state[`name_max${j}`])\n        console.log(\"minnnn\",this.state[`min${j}`],this.state[`name_min${j}`])\n        console.log(\"nobitex\",this.state[`binance_price${j}`])\n        // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n        var now = new Date();\n        console.log(\"taghir\",(this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100,now) \n        audio.play(); \n      }\n\n    }\n\n\n    // if(this.state.binance_price>=this.nobitex_price){\n    //   this.setState({ min: this.state.binance_price })\n    //   this.setState({ name_min: this.state.binance_name })\n    //   this.setState({ max: this.state.nobitex_price })\n    //   this.setState({ name_max: this.state.nobitex_name })\n    // }else{\n    //   this.setState({ max: this.state.binance_price })\n    //   this.setState({ name_max: this.state.binance_name })\n    //   this.setState({ min: this.state.nobitex_price })\n    //   this.setState({ name_min: this.state.nobitex_name })\n    // }\n    // if(this.state.exir_price>=this.state.max){\n    //   this.setState({ max: this.state.exir_price })\n    //   this.setState({ name_max: this.state.exir_name })\n    // }else if(this.state.exir_price < this.state.min){\n    //   this.setState({ min: this.state.exir_price })\n    //   this.setState({ name_min: this.state.exir_name })\n    // }\n\n  }\n  render(){\n    return (\n  \t\t<span>aaaaaaaaaaaaaaa</span>\n    );\n  }\n}\nexport default withRouter(List);\n"]},"metadata":{},"sourceType":"module"}