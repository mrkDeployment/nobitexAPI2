{"ast":null,"code":"import _regeneratorRuntime from\"/home/mrk2/nobitexAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/home/mrk2/nobitexAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"/home/mrk2/nobitexAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/mrk2/nobitexAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mrk2/nobitexAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/mrk2/nobitexAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/mrk2/nobitexAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'../App.css';import axios from'axios';import{withRouter}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var List=/*#__PURE__*/function(_React$Component){_inherits(List,_React$Component);var _super=_createSuper(List);function List(props){var _this;_classCallCheck(this,List);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState({'NobitexToken':e.target.value});{e.target.value===''&&_this.setState({'NobitexToken':null});}};_this.handleClickButton=function(){window.localStorage.setItem('NobitexToken',_this.state.NobitexToken);};_this.state={};return _this;}_createClass(List,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.interval=setInterval(function(){_this2.handleMax();},3000);}},{key:\"handleMax\",value:function(){var _handleMax=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this3=this;var data100,audio,coin_list,nobitex_coin_list,binance_coin_list,exir_coin_list,i,j,now,allowed_price,amount,NobitexToken,buy_data,config;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data100={symbol:\"USDTIRT\"};audio=new Audio('https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3');axios.post('https://api.nobitex.ir/v2/trades',data100,{}).then(function(response){_this3.setState({tether:Number.parseFloat(response.data.trades[0].price,10)});}).catch(function(error){console.log('erroppppppp');});coin_list=[\"btc\",\"eth\",\"ltc\",\"bch\",\"xlm\",\"trx\",\"doge\",\"etc\",\"bnb\",\"eos\",\"xrp\"];nobitex_coin_list=[\"BTCIRT\",\"ETHIRT\",\"LTCIRT\",\"BCHIRT\",\"XLMIRT\",\"TRXIRT\",\"DOGEIRT\",\"ETCIRT\",\"BNBIRT\",\"EOSIRT\",\"XRPIRT\"];binance_coin_list=[\"BTCUSDT\",\"ETHUSDT\",\"LTCUSDT\",\"BCHUSDT\",\"XLMUSDT\",\"TRXUSDT\",\"DOGEUSDT\",\"ETCUSDT\",\"BNBUSDT\",\"EOSUSDT\",\"XRPUSDT\"];exir_coin_list=[\"btc-irt\",\"eth-irt\",\"ltc-irt\",\"bch-irt\",\"xlm-irt\",\"trx-irt\",\"doge-irt\"// \"etc-irt\",\n// \"bnb-irt\",\n// \"eos-irt\",\n// \"xrp-irt\",\n];i=1;case 8:if(!(i<nobitex_coin_list.length+1)){_context.next=33;break;}j=i-1;window[\"data\"+j]={symbol:nobitex_coin_list[i-1]};// nobitex API\n_context.next=13;return axios.post('https://api.nobitex.ir/v2/trades',window[\"data\"+j],{}).then(function(response){var price=Number.parseFloat(response.data.trades[0].price,10)/_this3.state.tether;// this.setState({nobitex_volume2: response.data.trades[0].volume})\n_this3.setState(_defineProperty({},\"nobitex_price\".concat(j),price));}).catch(function(error){console.log('erroppppppp');});case 13:_context.next=15;return axios.get(\"https://api.binance.com/api/v3/ticker/price?symbol=\"+binance_coin_list[j],{}).then(function(response){var price=Number.parseFloat(response.data.price,10);console.log('aaaaaaaa');_this3.setState(_defineProperty({},\"binance_price\".concat(j),price));}).catch(function(error){console.log(error);});case 15:if(this.state[\"binance_price\".concat(j)]>=this.state[\"nobitex_price\".concat(j)]){this.setState(_defineProperty({},\"min\".concat(j),this.state[\"binance_price\".concat(j)]));this.setState(_defineProperty({},\"name_min\".concat(j),binance_coin_list[j]));this.setState(_defineProperty({},\"max\".concat(j),this.state[\"nobitex_price\".concat(j)]));this.setState(_defineProperty({},\"name_max\".concat(j),nobitex_coin_list[j]));}else{this.setState(_defineProperty({},\"max\".concat(j),this.state[\"binance_price\".concat(j)]));this.setState(_defineProperty({},\"name_max\".concat(j),binance_coin_list[j]));this.setState(_defineProperty({},\"min\".concat(j),this.state[\"nobitex_price\".concat(j)]));this.setState(_defineProperty({},\"name_min\".concat(j),nobitex_coin_list[j]));}//exir API\n// if(j<7){\n//   await axios.get('https://api.exir.io/v1/trades', {\n//   })\n//   .then(response => {\n//     var price= Number.parseFloat(response.data[exir_coin_list[j]][0].price, 10)/Number.parseFloat(response.data[\"usdt-irt\"][0].price, 10)\n//     this.setState({ [`exir_price${j}`]: price })\n//   })\n//   .catch(error => {\n//     console.log('error:')\n//   })\n//   if(this.state[`binance_price${j}`]>=this.state[`exir_price${j}`]){\n//     this.setState({ [`minn${j}`]: this.state[`binance_price${j}`] })\n//     this.setState({ [`name_minn${j}`]: binance_coin_list[j] })\n//     this.setState({ [`maxx${j}`]: this.state[`exir_price${j}`] })\n//     this.setState({ [`name_maxx${j}`]: exir_coin_list[j] })\n//   }else{\n//     this.setState({ [`maxx${j}`]: this.state[`binance_price${j}`] })\n//     this.setState({ [`name_maxx${j}`]: binance_coin_list[j] })\n//     this.setState({ [`minn${j}`]: this.state[`exir_price${j}`] })\n//     this.setState({ [`name_minn${j}`]: exir_coin_list[j] })\n//   }\n//   // if(Math.abs((this.state[`maxx${j}`]-this.state[`minn${j}`])/this.state[`minn${j}`]*100)>4 && this.state[`binance_price${j}`] > this.state[`exir_price${j}`]){\n//   //   console.log(\"maxxxx\",this.state[`maxx${j}`],this.state[`name_maxx${j}`])\n//   //   console.log(\"minnnn\",this.state[`minn${j}`],this.state[`name_minn${j}`])\n//   //   console.log(\"exir\",this.state[`binance_price${j}`])\n//   //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n//   //   var now = new Date();\n//   //   console.log(\"taghir\",(this.state[`maxx${j}`]-this.state[`minn${j}`])/this.state[`minn${j}`]*100,now) \n//   //   audio.play(); \n//   // }\n// }\nif(!(Math.abs((this.state[\"max\".concat(j)]-this.state[\"min\".concat(j)])/this.state[\"min\".concat(j)]*100)>2.4&&this.state[\"binance_price\".concat(j)]>this.state[\"nobitex_price\".concat(j)])){_context.next=30;break;}console.log(\"nobitex\",this.state.tether*0.985*this.state[\"binance_price\".concat(j)]);console.log(\"maxxxx\",this.state[\"max\".concat(j)],this.state[\"name_max\".concat(j)]);console.log(\"minnnn\",this.state[\"min\".concat(j)],this.state[\"name_min\".concat(j)]);// console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\nnow=new Date();console.log(\"taghir\",(this.state[\"max\".concat(j)]-this.state[\"min\".concat(j)])/this.state[\"min\".concat(j)]*100,now);audio.play();allowed_price=this.state.tether*0.985*this.state[\"binance_price\".concat(j)];amount=10000000/allowed_price;NobitexToken=window.localStorage.getItem('NobitexToken');buy_data={type:\"buy\",srcCurrency:coin_list[j],dstCurrency:\"rls\",amount:String(amount),price:String(allowed_price)};config={headers:{Authorization:\"token \".concat(NobitexToken)}};_context.next=30;return axios.post('https://api.nobitex.ir/market/orders/add',buy_data,config).then(function(response){console.log('buy',response);}).catch(function(error){console.log('erroppppppp',error);});case 30:i++;_context.next=8;break;case 33:case\"end\":return _context.stop();}}},_callee,this);}));function handleMax(){return _handleMax.apply(this,arguments);}return handleMax;}()},{key:\"Buy\",value:function(){var _Buy=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var NobitexToken,allowed_price,amount,buy_data,config;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:NobitexToken=window.localStorage.getItem('NobitexToken');allowed_price=300000;amount=10000000/allowed_price;buy_data={type:\"buy\",srcCurrency:\"btc\",dstCurrency:\"rls\",amount:String(amount),price:String(allowed_price)};config={headers:{Authorization:\"token \".concat(NobitexToken)}};_context2.next=7;return axios.post('https://api.nobitex.ir/market/orders/add',buy_data,config).then(function(response){console.log('buy',response);}).catch(function(error){console.log('erroppppppp',error);});case 7:case\"end\":return _context2.stop();}}},_callee2);}));function Buy(){return _Buy.apply(this,arguments);}return Buy;}()},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsx(\"div\",{className:\"Container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"NobitexToken\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Nobitex Token\"}),/*#__PURE__*/_jsx(\"input\",{className:\"NobitexToken\",placeholder:\"Nobitex Token\",onChange:function onChange(e){return _this4.handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return _this4.handleClickButton(e);},children:\"send\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return _this4.Buy(e);},children:\"Buy\"})]})});}}]);return List;}(React.Component);export default withRouter(List);","map":{"version":3,"sources":["/home/mrk2/nobitexAPI/src/component/PriceList.js"],"names":["React","axios","withRouter","List","props","handleChange","e","setState","target","value","handleClickButton","window","localStorage","setItem","state","NobitexToken","interval","setInterval","handleMax","data100","symbol","audio","Audio","post","then","response","tether","Number","parseFloat","data","trades","price","catch","error","console","log","coin_list","nobitex_coin_list","binance_coin_list","exir_coin_list","i","length","j","get","Math","abs","now","Date","play","allowed_price","amount","getItem","buy_data","type","srcCurrency","dstCurrency","String","config","headers","Authorization","Buy","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport axios from 'axios'\nimport {withRouter} from 'react-router'\n\nclass List extends React.Component {\n  constructor(props){\n    super(props)\n    this.state={\n    }\n  }\n\n  componentDidMount () {\n    this.interval = setInterval(() => {\n      this.handleMax()\n    }, 3000)\n    }\n\n  async handleMax(){\n\n    let data100 = {\n      symbol: \"USDTIRT\"\n    }\n\n    var audio = new Audio('https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3');\n\n    axios.post('https://api.nobitex.ir/v2/trades', data100,{})\n    .then((response) => {\n      this.setState({ tether: Number.parseFloat(response.data.trades[0].price, 10) })\n    })\n    .catch((error) => {\n      console.log('erroppppppp')\n    })\n\n    let coin_list = [\n      \"btc\",\n      \"eth\",\n      \"ltc\",\n      \"bch\",\n      \"xlm\",\n      \"trx\",\n      \"doge\",\n      \"etc\",\n      \"bnb\",\n      \"eos\",\n      \"xrp\",\n    ]\n\n    let nobitex_coin_list = [\n      \"BTCIRT\",\n      \"ETHIRT\",\n      \"LTCIRT\",\n      \"BCHIRT\",\n      \"XLMIRT\",\n      \"TRXIRT\",\n      \"DOGEIRT\",\n      \"ETCIRT\",\n      \"BNBIRT\",\n      \"EOSIRT\",\n      \"XRPIRT\",\n    ]\n\n    let binance_coin_list = [\n      \"BTCUSDT\",\n      \"ETHUSDT\",\n      \"LTCUSDT\",\n      \"BCHUSDT\",\n      \"XLMUSDT\",\n      \"TRXUSDT\",\n      \"DOGEUSDT\",\n      \"ETCUSDT\",\n      \"BNBUSDT\",\n      \"EOSUSDT\",\n      \"XRPUSDT\",\n    ]\n\n    let exir_coin_list = [\n      \"btc-irt\",\n      \"eth-irt\",\n      \"ltc-irt\",\n      \"bch-irt\",\n      \"xlm-irt\",\n      \"trx-irt\",\n      \"doge-irt\",\n      // \"etc-irt\",\n      // \"bnb-irt\",\n      // \"eos-irt\",\n      // \"xrp-irt\",\n    ]\n\n    \n    for (let i = 1; i < nobitex_coin_list.length+1; i++) {\n\n      var j = i-1;\n      window[\"data\"+j] = {\n        symbol: nobitex_coin_list[i-1]\n      }\n\n\n      // nobitex API\n\n      await axios.post('https://api.nobitex.ir/v2/trades', window[\"data\"+j],{})\n      .then((response) => {\n        var price= Number.parseFloat(response.data.trades[0].price, 10)/this.state.tether\n        // this.setState({nobitex_volume2: response.data.trades[0].volume})\n        this.setState({ [`nobitex_price${j}`]: price })\n      })\n      .catch((error) => {\n        console.log('erroppppppp')\n      })\n      \n      //binance API\n\n      await axios.get(\"https://api.binance.com/api/v3/ticker/price?symbol=\"+binance_coin_list[j], {\n      })\n      .then(response => {\n        var price= Number.parseFloat(response.data.price, 10)\n        console.log('aaaaaaaa')\n        this.setState({ [`binance_price${j}`]: price })\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n      if(this.state[`binance_price${j}`]>=this.state[`nobitex_price${j}`]){\n        this.setState({ [`min${j}`]: this.state[`binance_price${j}`] })\n        this.setState({ [`name_min${j}`]: binance_coin_list[j] })\n        this.setState({ [`max${j}`]: this.state[`nobitex_price${j}`] })\n        this.setState({ [`name_max${j}`]: nobitex_coin_list[j] })\n      }else{\n        this.setState({ [`max${j}`]: this.state[`binance_price${j}`] })\n        this.setState({ [`name_max${j}`]: binance_coin_list[j] })\n        this.setState({ [`min${j}`]: this.state[`nobitex_price${j}`] })\n        this.setState({ [`name_min${j}`]: nobitex_coin_list[j] })\n      }\n\n      //exir API\n      // if(j<7){\n      //   await axios.get('https://api.exir.io/v1/trades', {\n      //   })\n      //   .then(response => {\n      //     var price= Number.parseFloat(response.data[exir_coin_list[j]][0].price, 10)/Number.parseFloat(response.data[\"usdt-irt\"][0].price, 10)\n      //     this.setState({ [`exir_price${j}`]: price })\n      //   })\n      //   .catch(error => {\n      //     console.log('error:')\n      //   })\n\n      //   if(this.state[`binance_price${j}`]>=this.state[`exir_price${j}`]){\n      //     this.setState({ [`minn${j}`]: this.state[`binance_price${j}`] })\n      //     this.setState({ [`name_minn${j}`]: binance_coin_list[j] })\n      //     this.setState({ [`maxx${j}`]: this.state[`exir_price${j}`] })\n      //     this.setState({ [`name_maxx${j}`]: exir_coin_list[j] })\n      //   }else{\n      //     this.setState({ [`maxx${j}`]: this.state[`binance_price${j}`] })\n      //     this.setState({ [`name_maxx${j}`]: binance_coin_list[j] })\n      //     this.setState({ [`minn${j}`]: this.state[`exir_price${j}`] })\n      //     this.setState({ [`name_minn${j}`]: exir_coin_list[j] })\n      //   }\n\n      //   // if(Math.abs((this.state[`maxx${j}`]-this.state[`minn${j}`])/this.state[`minn${j}`]*100)>4 && this.state[`binance_price${j}`] > this.state[`exir_price${j}`]){\n      //   //   console.log(\"maxxxx\",this.state[`maxx${j}`],this.state[`name_maxx${j}`])\n      //   //   console.log(\"minnnn\",this.state[`minn${j}`],this.state[`name_minn${j}`])\n      //   //   console.log(\"exir\",this.state[`binance_price${j}`])\n      //   //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n      //   //   var now = new Date();\n      //   //   console.log(\"taghir\",(this.state[`maxx${j}`]-this.state[`minn${j}`])/this.state[`minn${j}`]*100,now) \n      //   //   audio.play(); \n      //   // }\n        \n      // }\n\n      if(Math.abs((this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100)>2.4 && this.state[`binance_price${j}`] > this.state[`nobitex_price${j}`]){\n        console.log(\"nobitex\",(this.state.tether)*0.985*this.state[`binance_price${j}`])\n        console.log(\"maxxxx\",this.state[`max${j}`],this.state[`name_max${j}`])\n        console.log(\"minnnn\",this.state[`min${j}`],this.state[`name_min${j}`])\n        // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n        var now = new Date();\n        console.log(\"taghir\",(this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100,now) \n        audio.play(); \n\n        let allowed_price = (this.state.tether)*0.985*this.state[`binance_price${j}`]\n        let amount=10000000/allowed_price\n\n        let NobitexToken= window.localStorage.getItem('NobitexToken');\n\n        let buy_data = {\n          type: \"buy\",\n          srcCurrency: coin_list[j],\n          dstCurrency: \"rls\",\n          amount: String(amount),\n          price: String(allowed_price)\n        }\n    \n        let config = {\n          headers: { Authorization: `token ${NobitexToken}` }\n        };\n    \n        await axios.post('https://api.nobitex.ir/market/orders/add', buy_data,config)\n        .then((response) => {\n          console.log('buy',response)\n        })\n        .catch((error) => {\n          console.log('erroppppppp',error)\n        })\n      }\n      \n\n      // if(Math.abs((this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100)>1.2 && this.state[`binance_price${j}`] < this.state[`nobitex_price${j}`]){\n      //   console.log(\"maxxxx\",this.state[`max${j}`],this.state[`name_max${j}`])\n      //   console.log(\"minnnn\",this.state[`min${j}`],this.state[`name_min${j}`])\n      //   console.log(\"nobitex\",this.state[`binance_price${j}`])\n      //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n      //   var now = new Date();\n      //   console.log(\"taghir\",(this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100,now) \n      //   audio.play(); \n      // }\n\n      // if(this.state[`nobitex_price${0}`]*(this.state.tether)<91650){\n      //   console.log(this.state[`nobitex_price${0}`]*(this.state.tether))\n      //   console.log(\"maxxxx\",this.state[`max${j}`],this.state[`name_max${j}`])\n      //   console.log(\"minnnn\",this.state[`min${j}`],this.state[`name_min${j}`])\n      //   console.log(\"nobitex\",(this.state.tether)*this.state[`binance_price${j}`])\n      //   // console.log(\"nobitex\",  this.state.binance_price,this.state.nobitex_volume)\n      //   var now = new Date();\n      //   console.log(\"taghir\",(this.state[`max${j}`]-this.state[`min${j}`])/this.state[`min${j}`]*100,now) \n      //   audio.play(); \n      // }\n\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({ 'NobitexToken': e.target.value })\n    { e.target.value === '' && this.setState({ 'NobitexToken': null})}\n  }\n\n  handleClickButton = () => {\n    window.localStorage.setItem('NobitexToken',this.state.NobitexToken)\n  }\n\n  async Buy() {\n\n    let NobitexToken= window.localStorage.getItem('NobitexToken');\n\n    let allowed_price = 300000\n    let amount=10000000/allowed_price\n\n    let buy_data = {\n      type: \"buy\",\n      srcCurrency: \"btc\",\n      dstCurrency: \"rls\",\n      amount: String(amount),\n      price: String(allowed_price)\n    }\n\n    let config = {\n      headers: { Authorization: `token ${NobitexToken}` }\n    };\n\n    await axios.post('https://api.nobitex.ir/market/orders/add', buy_data,config)\n    .then((response) => {\n      console.log('buy',response)\n    })\n    .catch((error) => {\n      console.log('erroppppppp',error)\n    })\n  }\n\n  render(){\n    return (\n      <div className=\"Container\">\n        <div className=\"NobitexToken\">\n          <p>Nobitex Token</p>\n          <input\n            className=\"NobitexToken\"\n            placeholder=\"Nobitex Token\"\n            onChange={(e) => this.handleChange(e)}\n          />\n          <button\n            onClick={(e) => this.handleClickButton(e)}\n          >send</button>\n\n          <button\n            onClick={(e) => this.Buy(e)}\n          >Buy</button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(List);\n"]},"metadata":{},"sourceType":"module"}